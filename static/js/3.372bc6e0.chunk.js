webpackJsonp([3],{324:function(e,t,n){"use strict";function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function o(r,a){try{var i=t[r](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){o("next",e)},function(e){o("throw",e)});e(s)}return o("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(66),c=n.n(s),l=n(0),f=n.n(l),u=n(65),m=n(27),p=n(36),h=n(356),d=(n.n(h),n(114)),g=n(35),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loginname:n.props.userInfo.loginname||"",user:"",navList:[{id:"1",title:"\u6700\u8fd1\u53d1\u8868",route:"/user/"+n.props.userInfo.loginname,icon:"#icon-14",type:"recent_topics"},{id:"2",title:"\u6700\u8fd1\u56de\u590d",route:"/user/"+n.props.userInfo.loginname,icon:"#icon-14",type:"recent_replies"},{id:"3",title:"\u53d1\u8868\u8bdd\u9898",route:"/topic/create",icon:"#icon-fasong"},{id:"4",title:"\u5173\u4e8e",route:"/about",icon:"#icon-svgabout"}]},n.navClick=function(e){"3"===e.id?n.props.history.push({pathname:e.route,state:{from:n.props.location}}):"4"===e.id?n.props.history.push("/about"):n.props.userInfo.loginname?n.props.history.push({pathname:e.route,state:{type:e.type}}):n.props.history.push("/signin")},n}return i(t,e),b(t,[{key:"componentWillMount",value:function(){function e(){return t.apply(this,arguments)}var t=o(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loginname){e.next=5;break}return e.next=3,Object(d.j)(this.state.loginname);case 3:t=e.sent,t&&this.setState({user:t});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentWillReceiveProps",value:function(e){""===e.userInfo.loginname&&this.setState({user:""})}},{key:"render",value:function(){var e=this,t=this.props.userInfo,n=t.avatar_url,o=t.loginname,r=this.state.user,a=r.score,i=r.recent_replies,s=r.recent_topics,c=r.create_at;return f.a.createElement("div",{className:"selfInfo-container"},f.a.createElement(u.e,{logout:!0,title:"\u4e2a\u4eba\u4fe1\u606f"}),f.a.createElement("section",{className:"self-container"},f.a.createElement("div",{className:"user-info"},o?f.a.createElement("section",{className:"login"},f.a.createElement("img",{className:"user-img",src:n,alt:""}),f.a.createElement("p",{className:"user-name"},o),f.a.createElement("div",null,f.a.createElement("p",{className:"score"},"\u79ef\u5206\uff1a",a),f.a.createElement("p",{className:"create-at"},"\u6ce8\u518c\u4e8e\uff1a",Object(g.a)(c)))):f.a.createElement(m.b,{className:"logout",to:"/signIn"},f.a.createElement("svg",{className:"icon","aria-hidden":"true"},f.a.createElement("use",{xlinkHref:"#icon-my"})),f.a.createElement("p",null,"\u672a\u767b\u5f55")))),f.a.createElement("section",{className:"nav"},this.state.navList.map(function(t){return f.a.createElement("li",{onClick:e.navClick.bind(e,t),className:"nav-item",key:t.id},f.a.createElement("svg",{className:"icon","aria-hidden":"true"},f.a.createElement("use",{xlinkHref:t.icon})),t.title,f.a.createElement("p",{className:"amount"},"\u6700\u8fd1\u56de\u590d"===t.title?i?i.length:0:"\u6700\u8fd1\u53d1\u8868"===t.title?s?s.length:0:"go"))})),f.a.createElement(u.d,null))}}]),t}(l.Component);t.default=Object(p.b)(function(e){return{userInfo:e.userInfo}})(v)},356:function(e,t,n){var o=n(357);"string"===typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1};r.transform=void 0;n(317)(o,r);o.locals&&(e.exports=o.locals)},357:function(e,t,n){t=e.exports=n(316)(!1),t.push([e.i,".selfInfo-container{height:auto}.selfInfo-container .self-container{margin-top:50px}.selfInfo-container .self-container .user-info{padding:2rem 2rem 0;overflow:hidden;border-bottom:1px solid #eee}.selfInfo-container .self-container .user-info .login .user-name{font-size:2rem;text-align:center;font-weight:700;color:#459dfc;margin:1rem}.selfInfo-container .self-container .user-info .login div{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;margin:1rem 0;font-size:1.4rem;text-align:left;font-weight:400;color:#555454}.selfInfo-container .self-container .user-info .login .user-img{margin:0 auto;display:block;width:12rem;height:12rem;max-width:250px;max-height:250px;border-radius:50%;-webkit-box-shadow:0 0 20px 0 #aaa;box-shadow:0 0 20px 0 #aaa}.selfInfo-container .self-container .user-info .logout{color:#ccc}.selfInfo-container .self-container .user-info .logout .icon{margin:0 auto;display:block;width:12rem;height:12rem;max-width:250px;max-height:250px;border-radius:50%;-webkit-box-shadow:0 0 20px 0 #aaa;box-shadow:0 0 20px 0 #aaa;font-size:10rem}.selfInfo-container .self-container .user-info .logout p{font-size:1.8rem;text-align:center;font-weight:400;color:#555454;padding:1rem 0;color:#459dfc}.selfInfo-container .nav{padding:2rem}.selfInfo-container .nav .nav-item{display:block;height:4rem;line-height:4rem;text-indent:1.5rem;margin-bottom:40px;border-radius:4rem;font-size:1.4rem;text-align:left;font-weight:300;color:#000;-webkit-box-shadow:0 .2rem .2rem .2rem #ccc;box-shadow:0 .2rem .2rem .2rem #ccc}.selfInfo-container .nav .nav-item .icon{color:#459dfc;font-size:2.2rem;padding-right:.5rem}.selfInfo-container .nav .nav-item .amount{float:right;margin:.7rem;width:2.5rem;height:2.5rem;border-radius:50%;font-size:1.2rem;text-align:center;font-weight:400;color:#fff;line-height:2.5rem;text-indent:0;background:#459dfc}",""])}});